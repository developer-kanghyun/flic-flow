import{j as s,d as m,n as p,r as o,s as x}from"./index-CfLsdFtj.js";import{S as g}from"./styles-CslUr6XY.js";import{S as u,M as f}from"./styles-D_SSWYD2.js";import"./WatchListButton-ctmsFqyD.js";const y=({movies:e})=>s.jsx(u,{children:e.map(t=>s.jsx(f,{movie:t},t.id))}),S=m.h2.withConfig({displayName:"styles__StyledSearchResult",componentId:"sc-whkv9n-0"})(["color:",";font-size:2.5em;margin-bottom:",";text-align:center;padding-top:",";@media (max-width:768px){font-size:2em;}"],({theme:e})=>e.colors.primary,({theme:e})=>e.spacing.md,({theme:e})=>e.spacing.lg),j=m.div.withConfig({displayName:"styles__StyledSearched",componentId:"sc-whkv9n-1"})(["background-color:",";color:",";padding:",";box-sizing:border-box;min-height:calc(100vh - 100px);display:flex;flex-direction:column;align-items:center;p{font-size:1.2em;margin-bottom:",";}"],({theme:e})=>e.colors.background,({theme:e})=>e.colors.text,({theme:e})=>e.spacing.lg,({theme:e})=>e.spacing.md),C=()=>{const[e]=p(),t=e.get("keyword"),[i,a]=o.useState([]),[d,r]=o.useState(!0),[n,l]=o.useState(null);return o.useEffect(()=>{(async()=>{if(!t){a([]),r(!1);return}r(!0),l(null);try{const c=decodeURIComponent(t),h=await x(c);a(h)}catch(c){console.error("Error fetching movies:",c),l("영화를 불러오는 데 실패했습니다.")}finally{r(!1)}})()},[t]),s.jsxs(g,{children:[s.jsx(S,{children:"검색 결과"}),s.jsxs(j,{children:[d&&s.jsx("p",{children:"로딩 중..."}),n&&s.jsx("p",{style:{color:"red"},children:n}),!d&&!n&&(i.length>0?s.jsxs("div",{children:[s.jsxs("p",{children:['검색어 : "',t?decodeURIComponent(t):"",'"']}),s.jsx(y,{movies:i})]}):s.jsx("p",{children:"검색 결과가 없습니다."}))]})]})};export{C as default};
