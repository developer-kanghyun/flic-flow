import{j as s,_ as p,M as x,B as m,Q as g,r as o,$ as u}from"./index-CEgEPY2D.js";import{S as y}from"./styles-CXIniHI_.js";const f=({movies:e})=>s.jsx(p,{children:e.map(t=>s.jsx(x,{movie:t},t.id))}),S=m.h2.withConfig({displayName:"styles__StyledSearchResult",componentId:"sc-1kn3309-0"})(["color:",";font-size:2.5em;margin-bottom:",";text-align:center;padding-top:",";@media (max-width:768px){font-size:2em;}"],({theme:e})=>e.colors.primary,({theme:e})=>e.spacing.md,({theme:e})=>e.spacing.lg),j=m.div.withConfig({displayName:"styles__StyledSearched",componentId:"sc-1kn3309-1"})(["background-color:",";color:",";padding:",";box-sizing:border-box;min-height:calc(100vh - 100px);display:flex;flex-direction:column;align-items:center;p{font-size:1.2em;margin-bottom:",";}"],({theme:e})=>e.colors.background,({theme:e})=>e.colors.text,({theme:e})=>e.spacing.lg,({theme:e})=>e.spacing.md),k=()=>{const[e]=g(),t=e.get("keyword"),[i,a]=o.useState([]),[d,r]=o.useState(!0),[n,l]=o.useState(null);return o.useEffect(()=>{(async()=>{if(!t){a([]),r(!1);return}r(!0),l(null);try{const c=decodeURIComponent(t),h=await u(c);a(h)}catch(c){console.error("Error fetching movies:",c),l("영화를 불러오는 데 실패했습니다.")}finally{r(!1)}})()},[t]),s.jsxs(y,{children:[s.jsx(S,{children:"검색 결과"}),s.jsxs(j,{children:[d&&s.jsx("p",{children:"로딩 중..."}),n&&s.jsx("p",{style:{color:"red"},children:n}),!d&&!n&&(i.length>0?s.jsxs("div",{children:[s.jsxs("p",{children:['검색어 : "',t?decodeURIComponent(t):"",'"']}),s.jsx(f,{movies:i})]}):s.jsx("p",{children:"검색 결과가 없습니다."}))]})]})};export{k as default};
