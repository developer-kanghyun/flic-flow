import{d as y,r as s,j as e,L as x,m as u,t as b}from"./index-BT-hbmM7.js";import{W as w,c as v}from"./WatchListButton-fPPBrXgW.js";const j=y.div.withConfig({displayName:"styles__StyledBody",componentId:"sc-8o98ys-0"})(["background-color:",";color:",";padding:20px;min-height:100vh;box-sizing:border-box;h1{color:",";font-size:2.5em;margin-bottom:20px;text-align:center;}ul{list-style:none;padding:0;margin:0;display:flex;flex-wrap:wrap;gap:20px;justify-content:center;}li{background-color:",";border-radius:8px;max-width:250px;width:100%;aspect-ratio:2 / 3;overflow:hidden;position:relative;box-shadow:0 4px 8px rgba(0,0,0,0.4);transition:all 0.3s ease-in-out;animation:slideIn 0.5s ease-out;&:hover{transform:scale(1.03);box-shadow:0 8px 25px rgba(192,192,192,0.15),0 0 15px rgba(192,192,192,0.1),inset 0 0 10px rgba(192,192,192,0.05);filter:brightness(1.05);}.watchlist-button-wrapper{position:absolute;top:8px;right:8px;z-index:10;}img{width:100%;height:100%;object-fit:cover;border-radius:4px;transition:all 0.3s ease-in-out;}&:hover img{filter:brightness(1.02);}}.empty-state{text-align:center;padding:60px 20px;max-width:500px;margin:0 auto;.empty-icon{font-size:4em;margin-bottom:20px;opacity:0.7;}h2{color:",";font-size:1.8em;margin-bottom:15px;font-weight:600;}p{color:",";font-size:1.1em;line-height:1.6;margin-bottom:30px;opacity:0.8;}.empty-actions{.discover-btn{background:",";color:white;text-decoration:none;padding:12px 24px;border-radius:25px;font-weight:600;transition:all 0.3s ease-in-out;display:inline-block;&:hover{background:",";transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,0.3);}}}}@keyframes slideIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}@media (max-width:768px){padding:15px;h1{font-size:2em;}}"],({theme:t})=>t.colors.background,({theme:t})=>t.colors.text,({theme:t})=>t.colors.primary,({theme:t})=>t.colors.lightGrey,({theme:t})=>t.colors.text,({theme:t})=>t.colors.text,({theme:t})=>t.colors.primary,({theme:t})=>t.colors.secondary),z=()=>{const[t,i]=s.useState([]),[m,a]=s.useState(!0),[n,l]=s.useState(null);return s.useEffect(()=>{(async()=>{a(!0),l(null);try{const d=JSON.parse(localStorage.getItem("watchlist")||"[]").filter(o=>typeof o=="number"&&!isNaN(o));if(d.length===0){i([]),a(!1);return}const g=d.map(async o=>{try{return await u(o)}catch(p){try{return{...(await b.get(`/tv/${o}`)).data,media_type:"tv"}}catch(h){throw console.error(`Failed to fetch both movie and TV for ID ${o}:`,p,h),p}}}),f=await Promise.all(g);i(f)}catch(c){console.error("Error fetching watchlist movies:",c),l("찜한 영화를 불러오는 데 실패했습니다.")}finally{a(!1)}})()},[]),m?e.jsx("p",{children:"찜한 영화 로딩 중..."}):n?e.jsx("p",{style:{color:"red"},children:n}):e.jsxs(j,{children:[e.jsx("h1",{children:"찜한 영화"}),t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"🎬"}),e.jsx("h2",{children:"아직 찜한 영화가 없어요"}),e.jsx("p",{children:"좋아하는 영화나 TV 프로그램을 찜하여 나중에 시청해보세요!"}),e.jsx("div",{className:"empty-actions",children:e.jsx(x,{to:"/",className:"discover-btn",children:"인기 영화 둘러보기"})})]}):e.jsx("ul",{children:t.map(r=>e.jsxs("li",{children:[e.jsx("div",{className:"watchlist-button-wrapper",children:e.jsx(w,{movieId:r.id})}),e.jsx(x,{to:`/detail/${r.id}?type=${r.media_type||"movie"}`,children:r.poster_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${r.poster_path}`,alt:r.title||r.name,onError:v(r.poster_path),loading:"lazy"}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#333",color:"#fff"},children:"No Image"})})]},r.id))})]})};export{z as default};
