import{j as s,a3 as h,M as u,U as m,Y as x,r as o,a4 as g}from"./index-le49yNCJ.js";import{S as y}from"./styles-CT8vt3Ob.js";const f=({movies:e})=>s.jsx(h,{children:e.map(t=>s.jsx(u,{movie:t},t.id))}),S=m.h2.withConfig({displayName:"styles__StyledSearchResult",componentId:"sc-1u9p0iq-0"})(["color:",";font-size:2.5em;margin-bottom:",";text-align:center;padding-top:",";@media (max-width:768px){font-size:2em;}"],({theme:e})=>e.colors.primary,({theme:e})=>e.spacing.md,({theme:e})=>e.spacing.lg),j=m.div.withConfig({displayName:"styles__StyledSearched",componentId:"sc-1u9p0iq-1"})(["background-color:",";color:",";padding:",";box-sizing:border-box;min-height:calc(100vh - 100px);display:flex;flex-direction:column;align-items:center;p{font-size:1.2em;margin-bottom:",";}"],({theme:e})=>e.colors.background,({theme:e})=>e.colors.text,({theme:e})=>e.spacing.lg,({theme:e})=>e.spacing.md),w=()=>{const[e]=x(),t=e.get("keyword"),[i,a]=o.useState([]),[d,r]=o.useState(!0),[n,l]=o.useState(null);return o.useEffect(()=>{(async()=>{if(!t){a([]),r(!1);return}r(!0),l(null);try{const c=decodeURIComponent(t),p=await g(c);a(p)}catch(c){console.error("Error fetching movies:",c),l("영화를 불러오는 데 실패했습니다.")}finally{r(!1)}})()},[t]),s.jsxs(y,{children:[s.jsx(S,{children:"검색 결과"}),s.jsxs(j,{children:[d&&s.jsx("p",{children:"로딩 중..."}),n&&s.jsx("p",{style:{color:"red"},children:n}),!d&&!n&&(i.length>0?s.jsxs("div",{children:[s.jsxs("p",{children:['검색어 : "',t?decodeURIComponent(t):"",'"']}),s.jsx(f,{movies:i})]}):s.jsx("p",{children:"검색 결과가 없습니다."}))]})]})};export{w as default};
